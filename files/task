# Behavioral Authentication ML Project Overview

This document outlines the machine learning project for behavioral authentication, covering data generation, feature schema, model training, and evaluation as per the project requirements.

## 1. Data Generation (`files/synthetic_behavioral_dataset.csv`)

Synthetic behavioral transaction data is generated to simulate normal and anomalous user activities with controlled label distribution.

### Configuration:
- **Number of Normal Users:** 1000
- **Number of Anomalous Users:** 100
- **Transaction Period:** 2023-01-01 to 2023-12-31
- **Target Label Distribution:**
  - Fraud Rate: 5.0%
  - Suspicious Rate: 15.0%
  - Legit Rate: 80.0%

## 2. Feature Schema (`files/feature_schema.json`)

The dataset includes **12 core behavioral features** as specified in the project requirements:

### Core Behavioral Features (8-15 as required):
| Feature Name | Type | Description | Range/Values | Example |
|---|---|---|---|---|
| avg_tx_amount | numeric | Average transaction amount for the user. | [20, 10000] | 500.25 |
| device_change_freq | numeric | Frequency of device changes for the user. | [0, 1] | 0.05 |
| tx_hour | numeric | Hour of the transaction (0-23). | [0, 23] | 14 |
| location_change_freq | numeric | Frequency of location changes for the user. | [0, 1] | 0.15 |
| is_new_device | boolean | Boolean flag indicating if the transaction is from a new device. | 0, 1 | 0 |
| transaction_count_24h | integer | Number of transactions in the last 24 hours. | >=0 | 5 |
| time_since_last_tx | numeric | Time elapsed since the user's previous transaction (in hours). | >=0 | 2.5 |
| tx_amount_to_balance_ratio | numeric | Ratio of transaction amount to user's account balance. | [0, 1] | 0.15 |
| ip_address_reputation | numeric | Reputation score of the IP address (0=bad, 1=good). | [0, 1] | 0.85 |
| is_weekend | boolean | Boolean flag for weekend transactions. | 0, 1 | 1 |
| transaction_velocity_10min | integer | Number of transactions in the last 10 minutes. | >=0 | 2 |
| country_change_flag | boolean | Boolean flag if the transaction origin country is different from usual. | 0, 1 | 0 |


### Target Variables:
- **Binary Target:** `risk_flag_manual` - Simple normal/anomalous classification
- **Categorical Target:** `risk_label` - Three-class classification (legit, suspicious, fraud)

## 3. Heuristic Labeling Logic

The labeling follows the exact combinations specified in the project requirements:

### Fraud Conditions:
- **Primary:** `tx_amount_to_balance_ratio` + `is_new_device` + high `location_change_freq`
- **Secondary:** Very high `transaction_velocity_10min` (>=5 transactions)
- **Tertiary:** Low `ip_address_reputation` + `country_change_flag`

### Suspicious Conditions:
- **Primary:** High `transaction_velocity_10min` + unusual `tx_hour` (early morning/late night)
- **Secondary:** Transaction amount significantly above user average
- **Tertiary:** `country_change_flag`, `is_new_device`, or low IP reputation

## 4. Data Quality Assurance

- Balanced class distribution with controlled proportions
- Realistic behavioral patterns differentiate normal vs anomalous users
- Time-based features include proper temporal relationships
- Feature correlations reflect real-world financial behavior patterns

## 5. Next Steps

This dataset is ready for model training phase as outlined in the project plan:
- Train RandomForest, XGBoost, or LightGBM models
- Evaluate using ROC-AUC, Precision/Recall, and Confusion Matrix
- Proceed to API development phase

---
*Generated by: `generate_behavioral_data.py`*
*Schema file: `files/feature_schema.json`*
*Dataset file: `files/synthetic_behavioral_dataset.csv`*
